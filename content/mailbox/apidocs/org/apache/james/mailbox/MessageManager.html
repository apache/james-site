<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_04-ea) on Tue Apr 17 10:09:27 CEST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MessageManager (Apache James Mailbox 0.5-SNAPSHOT API)</title>
<meta name="date" content="2012-04-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MessageManager (Apache James Mailbox 0.5-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MessageManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/james/mailbox/MailboxSessionIdGenerator.html" title="interface in org.apache.james.mailbox"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.html" title="interface in org.apache.james.mailbox"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/james/mailbox/MessageManager.html" target="_top">Frames</a></li>
<li><a href="MessageManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.james.mailbox</div>
<h2 title="Interface MessageManager" class="title">Interface MessageManager</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/apache/james/mailbox/hbase/HBaseMessageManager.html" title="class in org.apache.james.mailbox.hbase">HBaseMessageManager</a>, <a href="../../../../org/apache/james/mailbox/jcr/JCRMessageManager.html" title="class in org.apache.james.mailbox.jcr">JCRMessageManager</a>, <a href="../../../../org/apache/james/mailbox/jpa/JPAMessageManager.html" title="class in org.apache.james.mailbox.jpa">JPAMessageManager</a>, <a href="../../../../org/apache/james/mailbox/jpa/openjpa/OpenJPAMessageManager.html" title="class in org.apache.james.mailbox.jpa.openjpa">OpenJPAMessageManager</a>, <a href="../../../../org/apache/james/mailbox/store/StoreMessageManager.html" title="class in org.apache.james.mailbox.store">StoreMessageManager</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">MessageManager</span></pre>
<div class="block">Interface which represent a Mailbox
 
 A <a href="../../../../org/apache/james/mailbox/MessageManager.html" title="interface in org.apache.james.mailbox"><code>MessageManager</code></a> should be valid for the whole <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox"><code>MailboxSession</code></a></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.html" title="interface in org.apache.james.mailbox">MessageManager.MetaData</a></strong></code>
<div class="block">Meta data about the current state of the mailbox.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#appendMessage(java.io.InputStream, java.util.Date, org.apache.james.mailbox.MailboxSession, boolean, javax.mail.Flags)">appendMessage</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;msgIn,
             <a href="http://download.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;internalDate,
             <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession,
             boolean&nbsp;isRecent,
             javax.mail.Flags&nbsp;flags)</code>
<div class="block">Appends a message to this mailbox.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#expunge(org.apache.james.mailbox.model.MessageRange, org.apache.james.mailbox.MailboxSession)">expunge</a></strong>(<a href="../../../../org/apache/james/mailbox/model/MessageRange.html" title="class in org.apache.james.mailbox.model">MessageRange</a>&nbsp;set,
       <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)</code>
<div class="block">Expunges messages in the given range from this mailbox.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#getMessageCount(org.apache.james.mailbox.MailboxSession)">getMessageCount</a></strong>(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>use
             <a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)"><code>getMetaData(boolean, MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)</code></a></i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/james/mailbox/model/MessageResultIterator.html" title="interface in org.apache.james.mailbox.model">MessageResultIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#getMessages(org.apache.james.mailbox.model.MessageRange, org.apache.james.mailbox.model.MessageResult.FetchGroup, org.apache.james.mailbox.MailboxSession)">getMessages</a></strong>(<a href="../../../../org/apache/james/mailbox/model/MessageRange.html" title="class in org.apache.james.mailbox.model">MessageRange</a>&nbsp;set,
           <a href="../../../../org/apache/james/mailbox/model/MessageResult.FetchGroup.html" title="interface in org.apache.james.mailbox.model">MessageResult.FetchGroup</a>&nbsp;fetchGroup,
           <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)</code>
<div class="block">Gets messages in the given range.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.html" title="interface in org.apache.james.mailbox">MessageManager.MetaData</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)">getMetaData</a></strong>(boolean&nbsp;resetRecent,
           <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession,
           <a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.FetchGroup.html" title="enum in org.apache.james.mailbox">MessageManager.MetaData.FetchGroup</a>&nbsp;fetchGroup)</code>
<div class="block">Gets current meta data for the mailbox.<br>
 Consolidates common calls together to allow improved performance.<br>
 The meta-data returned should be immutable and represent the current
 state of the mailbox.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#hasRight(org.apache.james.mailbox.model.MailboxACL.MailboxACLRight, org.apache.james.mailbox.MailboxSession)">hasRight</a></strong>(<a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRight.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRight</a>&nbsp;right,
        <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)</code>
<div class="block">Tells whether the given <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox"><code>MailboxSession</code></a>'s user has the given
 <a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRight.html" title="interface in org.apache.james.mailbox.model"><code>MailboxACL.MailboxACLRight</code></a> for this <a href="../../../../org/apache/james/mailbox/MessageManager.html" title="interface in org.apache.james.mailbox"><code>MessageManager</code></a>'s mailbox.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#isModSeqPermanent(org.apache.james.mailbox.MailboxSession)">isModSeqPermanent</a></strong>(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>use
             <a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)"><code>getMetaData(boolean, MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)</code></a></i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#isWriteable(org.apache.james.mailbox.MailboxSession)">isWriteable</a></strong>(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>use
             <a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)"><code>getMetaData(boolean, MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRights.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRights</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#listRigths(org.apache.james.mailbox.model.MailboxACL.MailboxACLEntryKey, org.apache.james.mailbox.MailboxSession)">listRigths</a></strong>(<a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLEntryKey.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLEntryKey</a>&nbsp;identifier,
          <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)</code>
<div class="block">Computes a result suitable for the LISTRIGHTS IMAP command.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRights.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRights</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#myRights(org.apache.james.mailbox.MailboxSession)">myRights</a></strong>(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)</code>
<div class="block">Returns the rights applicable to the user who has sent the current
 request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#search(org.apache.james.mailbox.model.SearchQuery, org.apache.james.mailbox.MailboxSession)">search</a></strong>(<a href="../../../../org/apache/james/mailbox/model/SearchQuery.html" title="class in org.apache.james.mailbox.model">SearchQuery</a>&nbsp;searchQuery,
      <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)</code>
<div class="block">Searches for messages matching the given query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,javax.mail.Flags&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#setFlags(javax.mail.Flags, boolean, boolean, org.apache.james.mailbox.model.MessageRange, org.apache.james.mailbox.MailboxSession)">setFlags</a></strong>(javax.mail.Flags&nbsp;flags,
        boolean&nbsp;value,
        boolean&nbsp;replace,
        <a href="../../../../org/apache/james/mailbox/model/MessageRange.html" title="class in org.apache.james.mailbox.model">MessageRange</a>&nbsp;set,
        <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)</code>
<div class="block">Sets flags on messages within the given range.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/james/mailbox/MessageManager.html#setRights(org.apache.james.mailbox.model.MailboxACL.MailboxACLEntryKey, org.apache.james.mailbox.model.MailboxACL.EditMode, org.apache.james.mailbox.model.MailboxACL.MailboxACLRights)">setRights</a></strong>(<a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLEntryKey.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLEntryKey</a>&nbsp;identifier,
         <a href="../../../../org/apache/james/mailbox/model/MailboxACL.EditMode.html" title="enum in org.apache.james.mailbox.model">MailboxACL.EditMode</a>&nbsp;editMode,
         <a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRights.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRights</a>&nbsp;mailboxAclRights)</code>
<div class="block">TODO setRights.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMessageCount(org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageCount</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
long&nbsp;getMessageCount(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)
                     throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>use
             <a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)"><code>getMetaData(boolean, MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)</code></a></i></div>
<div class="block">Return the count</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mailboxSession</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>count</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
<a name="isWriteable(org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWriteable</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
boolean&nbsp;isWriteable(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)
                    throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>use
             <a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)"><code>getMetaData(boolean, MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)</code></a></i></div>
<div class="block">Return if the Mailbox is writable</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>writable</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
<a name="isModSeqPermanent(org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isModSeqPermanent</h4>
<pre>boolean&nbsp;isModSeqPermanent(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>use
             <a href="../../../../org/apache/james/mailbox/MessageManager.html#getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)"><code>getMetaData(boolean, MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)</code></a></i></div>
<div class="block">Return true if <a href="../../../../org/apache/james/mailbox/model/MessageMetaData.html#getModSeq()"><code>MessageMetaData.getModSeq()</code></a> is stored in a permanent
 way.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>modSeqPermanent</dd></dl>
</li>
</ul>
<a name="search(org.apache.james.mailbox.model.SearchQuery, org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;search(<a href="../../../../org/apache/james/mailbox/model/SearchQuery.html" title="class in org.apache.james.mailbox.model">SearchQuery</a>&nbsp;searchQuery,
                    <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)
                      throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Searches for messages matching the given query. The result must be
 ordered</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mailboxSession</code> - not null</dd>
<dt><span class="strong">Returns:</span></dt><dd>uid iterator</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/UnsupportedCriteriaException.html" title="class in org.apache.james.mailbox.exception">UnsupportedCriteriaException</a></code> - when any of the search parameters are not supported by this
             mailbox</dd>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code> - when search fails for other reasons</dd></dl>
</li>
</ul>
<a name="expunge(org.apache.james.mailbox.model.MessageRange, org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expunge</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;expunge(<a href="../../../../org/apache/james/mailbox/model/MessageRange.html" title="class in org.apache.james.mailbox.model">MessageRange</a>&nbsp;set,
                     <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)
                       throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Expunges messages in the given range from this mailbox.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>set</code> - not null</dd><dd><code>mailboxSession</code> - not null</dd>
<dt><span class="strong">Returns:</span></dt><dd>uid iterator</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code> - if anything went wrong</dd></dl>
</li>
</ul>
<a name="setFlags(javax.mail.Flags, boolean, boolean, org.apache.james.mailbox.model.MessageRange, org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlags</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,javax.mail.Flags&gt;&nbsp;setFlags(javax.mail.Flags&nbsp;flags,
                                  boolean&nbsp;value,
                                  boolean&nbsp;replace,
                                  <a href="../../../../org/apache/james/mailbox/model/MessageRange.html" title="class in org.apache.james.mailbox.model">MessageRange</a>&nbsp;set,
                                  <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)
                                    throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Sets flags on messages within the given range. The new flags are returned
 for each message altered.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>flags</code> - Flags to be set</dd><dd><code>value</code> - true = set, false = unset</dd><dd><code>replace</code> - replace all Flags with this flags, value has to be true</dd><dd><code>set</code> - the range of messages</dd><dd><code>mailboxSession</code> - not null</dd>
<dt><span class="strong">Returns:</span></dt><dd>new flags indexed by UID</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
<a name="appendMessage(java.io.InputStream, java.util.Date, org.apache.james.mailbox.MailboxSession, boolean, javax.mail.Flags)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendMessage</h4>
<pre>long&nbsp;appendMessage(<a href="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;msgIn,
                 <a href="http://download.oracle.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;internalDate,
                 <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession,
                 boolean&nbsp;isRecent,
                 javax.mail.Flags&nbsp;flags)
                   throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Appends a message to this mailbox. This method must return a higher UID
 as the last call in every case which also needs to be unique for the
 lifetime of the mailbox.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>internalDate</code> - the time of addition to be set, not null</dd><dd><code>mailboxSession</code> - not null</dd><dd><code>isRecent</code> - true when the message should be marked recent, false otherwise</dd><dd><code>flags</code> - optionally set these flags on created message, or null when no
            additional flags should be set</dd>
<dt><span class="strong">Returns:</span></dt><dd>uid for the newly added message</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code> - when message cannot be appended</dd></dl>
</li>
</ul>
<a name="getMessages(org.apache.james.mailbox.model.MessageRange, org.apache.james.mailbox.model.MessageResult.FetchGroup, org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessages</h4>
<pre><a href="../../../../org/apache/james/mailbox/model/MessageResultIterator.html" title="interface in org.apache.james.mailbox.model">MessageResultIterator</a>&nbsp;getMessages(<a href="../../../../org/apache/james/mailbox/model/MessageRange.html" title="class in org.apache.james.mailbox.model">MessageRange</a>&nbsp;set,
                                <a href="../../../../org/apache/james/mailbox/model/MessageResult.FetchGroup.html" title="interface in org.apache.james.mailbox.model">MessageResult.FetchGroup</a>&nbsp;fetchGroup,
                                <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession)
                                  throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Gets messages in the given range. The messages may get fetched under
 the-hood in batches so the caller should check if
 <a href="../../../../org/apache/james/mailbox/model/MessageResultIterator.html#getException()"><code>MessageResultIterator.getException()</code></a> returns <code>null</code>
 after <a href="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true#hasNext()" title="class or interface in java.util"><code>Iterator.hasNext()</code></a> returns <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>set</code> - </dd><dd><code>fetchGroup</code> - data to fetch</dd><dd><code>mailboxSession</code> - not null</dd>
<dt><span class="strong">Returns:</span></dt><dd>MessageResult with the fields defined by FetchGroup</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
<a name="hasRight(org.apache.james.mailbox.model.MailboxACL.MailboxACLRight, org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasRight</h4>
<pre>boolean&nbsp;hasRight(<a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRight.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRight</a>&nbsp;right,
               <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)
                 throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Tells whether the given <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox"><code>MailboxSession</code></a>'s user has the given
 <a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRight.html" title="interface in org.apache.james.mailbox.model"><code>MailboxACL.MailboxACLRight</code></a> for this <a href="../../../../org/apache/james/mailbox/MessageManager.html" title="interface in org.apache.james.mailbox"><code>MessageManager</code></a>'s mailbox.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>right</code> - </dd><dd><code>session</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the given <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox"><code>MailboxSession</code></a>'s user has the given
         <a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRight.html" title="interface in org.apache.james.mailbox.model"><code>MailboxACL.MailboxACLRight</code></a> for this <a href="../../../../org/apache/james/mailbox/MessageManager.html" title="interface in org.apache.james.mailbox"><code>MessageManager</code></a>'s
         mailbox; false otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
<a name="myRights(org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myRights</h4>
<pre><a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRights.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRights</a>&nbsp;myRights(<a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)
                                     throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Returns the rights applicable to the user who has sent the current
 request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the rights applicable to the user who has sent the request,
         returns <a href="../../../../org/apache/james/mailbox/model/SimpleMailboxACL.html#NO_RIGHTS"><code>SimpleMailboxACL.NO_RIGHTS</code></a> if
         <code>session.getUser()</code> is null.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/UnsupportedRightException.html" title="class in org.apache.james.mailbox.exception">UnsupportedRightException</a></code></dd>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
<a name="listRigths(org.apache.james.mailbox.model.MailboxACL.MailboxACLEntryKey, org.apache.james.mailbox.MailboxSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listRigths</h4>
<pre><a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRights.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRights</a>[]&nbsp;listRigths(<a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLEntryKey.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLEntryKey</a>&nbsp;identifier,
                                       <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;session)
                                         throws <a href="../../../../org/apache/james/mailbox/exception/UnsupportedRightException.html" title="class in org.apache.james.mailbox.exception">UnsupportedRightException</a></pre>
<div class="block">Computes a result suitable for the LISTRIGHTS IMAP command. The result is
 computed for this mailbox and the given <code>identifier</code>.
 
 From RFC 4314 section 3.7:
 The first element of the resulting array contains the (possibly empty)
 set of rights the identifier will always be granted in the mailbox.
 Following this are zero or more right sets the identifier can be granted
 in the mailbox. Rights mentioned in the same set are tied together. The
 server MUST either grant all tied rights to the identifier in the mailbox
 or grant none.
 
 The same right MUST NOT be listed more than once in the LISTRIGHTS
 command.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>identifier</code> - the identifier from the LISTRIGHTS command.</dd><dd><code>session</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/UnsupportedRightException.html" title="class in org.apache.james.mailbox.exception">UnsupportedRightException</a></code></dd></dl>
</li>
</ul>
<a name="setRights(org.apache.james.mailbox.model.MailboxACL.MailboxACLEntryKey, org.apache.james.mailbox.model.MailboxACL.EditMode, org.apache.james.mailbox.model.MailboxACL.MailboxACLRights)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRights</h4>
<pre>void&nbsp;setRights(<a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLEntryKey.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLEntryKey</a>&nbsp;identifier,
             <a href="../../../../org/apache/james/mailbox/model/MailboxACL.EditMode.html" title="enum in org.apache.james.mailbox.model">MailboxACL.EditMode</a>&nbsp;editMode,
             <a href="../../../../org/apache/james/mailbox/model/MailboxACL.MailboxACLRights.html" title="interface in org.apache.james.mailbox.model">MailboxACL.MailboxACLRights</a>&nbsp;mailboxAclRights)
               throws <a href="../../../../org/apache/james/mailbox/exception/UnsupportedRightException.html" title="class in org.apache.james.mailbox.exception">UnsupportedRightException</a></pre>
<div class="block">TODO setRights.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>identifier</code> - </dd><dd><code>editMode</code> - </dd><dd><code>mailboxAclRights</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/UnsupportedRightException.html" title="class in org.apache.james.mailbox.exception">UnsupportedRightException</a></code></dd></dl>
</li>
</ul>
<a name="getMetaData(boolean, org.apache.james.mailbox.MailboxSession, org.apache.james.mailbox.MessageManager.MetaData.FetchGroup)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMetaData</h4>
<pre><a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.html" title="interface in org.apache.james.mailbox">MessageManager.MetaData</a>&nbsp;getMetaData(boolean&nbsp;resetRecent,
                                  <a href="../../../../org/apache/james/mailbox/MailboxSession.html" title="interface in org.apache.james.mailbox">MailboxSession</a>&nbsp;mailboxSession,
                                  <a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.FetchGroup.html" title="enum in org.apache.james.mailbox">MessageManager.MetaData.FetchGroup</a>&nbsp;fetchGroup)
                                    throws <a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></pre>
<div class="block">Gets current meta data for the mailbox.<br>
 Consolidates common calls together to allow improved performance.<br>
 The meta-data returned should be immutable and represent the current
 state of the mailbox.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>resetRecent</code> - true when recent flags should be reset, false otherwise</dd><dd><code>mailboxSession</code> - context, not null</dd><dd><code>fetchGroup</code> - describes which optional data should be returned</dd>
<dt><span class="strong">Returns:</span></dt><dd>meta data, not null</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/james/mailbox/exception/MailboxException.html" title="class in org.apache.james.mailbox.exception">MailboxException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MessageManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/james/mailbox/MailboxSessionIdGenerator.html" title="interface in org.apache.james.mailbox"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/james/mailbox/MessageManager.MetaData.html" title="interface in org.apache.james.mailbox"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/james/mailbox/MessageManager.html" target="_top">Frames</a></li>
<li><a href="MessageManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
