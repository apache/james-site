<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_04-ea) on Tue Apr 17 10:09:27 CEST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>SearchUtil (Apache James Mailbox 0.5-SNAPSHOT API)</title>
<meta name="date" content="2012-04-17">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SearchUtil (Apache James Mailbox 0.5-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SearchUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/james/mailbox/store/search/MessageSearchIndex.html" title="interface in org.apache.james.mailbox.store.search"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/james/mailbox/store/search/SimpleMessageSearchIndex.html" title="class in org.apache.james.mailbox.store.search"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/james/mailbox/store/search/SearchUtil.html" target="_top">Frames</a></li>
<li><a href="SearchUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.james.mailbox.store.search</div>
<h2 title="Class SearchUtil" class="title">Class SearchUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.james.mailbox.store.search.SearchUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SearchUtil</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility class which helps with extracting of data for searches</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#SearchUtil()">SearchUtil</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getBaseSubject(java.lang.String)">getBaseSubject</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;subject)</code>
<div class="block">Extract the base subject from the given subject.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getDisplayAddress(org.apache.james.mime4j.dom.address.Mailbox)">getDisplayAddress</a></strong>(org.apache.james.mime4j.dom.address.Mailbox&nbsp;mailbox)</code>
<div class="block">Return the DISPLAY ADDRESS for the given <code>Mailbox</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getDisplayAddress(java.lang.String)">getDisplayAddress</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;headerValue)</code>
<div class="block">Parse the headerValue and delegate to <a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getDisplayAddress(org.apache.james.mime4j.dom.address.Mailbox)"><code>getDisplayAddress(Mailbox)</code></a>
 
 If no display address is found an empty String is returned</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getMailboxAddress(org.apache.james.mime4j.dom.address.Mailbox)">getMailboxAddress</a></strong>(org.apache.james.mime4j.dom.address.Mailbox&nbsp;mailbox)</code>
<div class="block">Return addr-mailbox of the first "From" address.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getMailboxAddress(java.lang.String)">getMailboxAddress</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;headerValue)</code>
<div class="block">Parse the headerValue and delegate to <a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getMailboxAddress(org.apache.james.mime4j.dom.address.Mailbox)"><code>getMailboxAddress(Mailbox)</code></a>
 
 If no mailbox name is found an empty String is returned</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SearchUtil()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SearchUtil</h4>
<pre>public&nbsp;SearchUtil()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDisplayAddress(org.apache.james.mime4j.dom.address.Mailbox)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDisplayAddress</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getDisplayAddress(org.apache.james.mime4j.dom.address.Mailbox&nbsp;mailbox)</pre>
<div class="block">Return the DISPLAY ADDRESS for the given <code>Mailbox</code>. 
 
 See rfc5957 3. DISPLAY Sort Value for an Address for the details
 
     For the purposes of the sort criteria defined in this document, the
     sort value for an [IMAP] address structure is defined as follows:
 <p>
      o If the address structure's [IMAP] addr-name is non-NIL, apply the 
        procedure from [RFC5255], Section 4.6.  (That is, decode any
        RFC2047] encoded-words and convert the resulting character string
        into a charset valid for the currently active [RFC4790] collation,
        with a default of UTF-8.)  If the resulting octet string is not
        the empty string, use it as the sort value for the address.
 </p>
 <p>
      o  Otherwise, if the address structure's [IMAP] addr-mailbox and
         [IMAP] addr-host are both non-NIL, the sort value for the address
         is addr-mailbox@addr-host.
 </p>
 <p>
      o  Otherwise, if the address structure's [IMAP] addr-mailbox is non-
         NIL, the sort value for the address is its addr-mailbox.
 </p>
 <p>
      o  If none of the above conditions are met, the sort value for the
         address is the empty string.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mailbox</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>display</dd></dl>
</li>
</ul>
<a name="getDisplayAddress(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDisplayAddress</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getDisplayAddress(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;headerValue)</pre>
<div class="block">Parse the headerValue and delegate to <a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getDisplayAddress(org.apache.james.mime4j.dom.address.Mailbox)"><code>getDisplayAddress(Mailbox)</code></a>
 
 If no display address is found an empty String is returned</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>headerValue</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>display</dd></dl>
</li>
</ul>
<a name="getMailboxAddress(org.apache.james.mime4j.dom.address.Mailbox)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMailboxAddress</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getMailboxAddress(org.apache.james.mime4j.dom.address.Mailbox&nbsp;mailbox)</pre>
<div class="block">Return addr-mailbox of the first "From" address.
 
 See RFC5256 and RFC3501
 
 Which is in fact the LocalPart</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mailbox</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>addrMailbox</dd></dl>
</li>
</ul>
<a name="getMailboxAddress(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMailboxAddress</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getMailboxAddress(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;headerValue)</pre>
<div class="block">Parse the headerValue and delegate to <a href="../../../../../../org/apache/james/mailbox/store/search/SearchUtil.html#getMailboxAddress(org.apache.james.mime4j.dom.address.Mailbox)"><code>getMailboxAddress(Mailbox)</code></a>
 
 If no mailbox name is found an empty String is returned</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>headerValue</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>mailbox</dd></dl>
</li>
</ul>
<a name="getBaseSubject(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBaseSubject</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getBaseSubject(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;subject)</pre>
<div class="block">Extract the base subject from the given subject. 
 
 See rfc5256 2.1 Base Subject
 
 Subject sorting and threading use the "base subject", which has
 specific subject artifacts removed.  Due to the complexity of these
 artifacts, the formal syntax for the subject extraction rules is
 ambiguous.  The following procedure is followed to determine the
 "base subject", using the [ABNF] formal syntax rules described in
 section 5:
 <p>
    (1) Convert any RFC 2047 encoded-words in the subject to [UTF-8]
        as described in "Internationalization Considerations".
        Convert all tabs and continuations to space.  Convert all
        multiple spaces to a single space.
 </p>
 <p>
    (2) Remove all trailing text of the subject that matches the
        subj-trailer ABNF; repeat until no more matches are possible.
 </p>
 <p>
    (3) Remove all prefix text of the subject that matches the subj-
        leader ABNF.
 </p>
 <p>
    (4) If there is prefix text of the subject that matches the subj-
        blob ABNF, and removing that prefix leaves a non-empty subj-
        base, then remove the prefix text.
 </p>
 <p>
    (5) Repeat (3) and (4) until no matches remain.
 </p>
 Note: It is possible to defer step (2) until step (6), but this
 requires checking for subj-trailer in step (4).
 <br>
 <p>
    (6) If the resulting text begins with the subj-fwd-hdr ABNF and
        ends with the subj-fwd-trl ABNF, remove the subj-fwd-hdr and
        subj-fwd-trl and repeat from step (2).
 </p>
 <p>
    (7) The resulting text is the "base subject" used in the SORT.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>subject</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>baseSubject</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SearchUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/james/mailbox/store/search/MessageSearchIndex.html" title="interface in org.apache.james.mailbox.store.search"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/james/mailbox/store/search/SimpleMessageSearchIndex.html" title="class in org.apache.james.mailbox.store.search"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/james/mailbox/store/search/SearchUtil.html" target="_top">Frames</a></li>
<li><a href="SearchUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010-2012 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
