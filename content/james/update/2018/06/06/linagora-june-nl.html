<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements. See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership. The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License. You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied. See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Apache James</title>

        <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/ie8.css">
        <link rel="stylesheet" type="text/css" href="/assets/css/ie9.css">
        <link rel="shortcut icon" href="/images/james-logo.png">
    </head>
<body>
    <!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements. See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership. The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License. You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied. See the License for the
    specific language governing permissions and limitations
    under the License.
-->

<link href="/assets/css/lightbox.css" rel="stylesheet">
<div id="wrapper" class="post-page">
  <div class="apache_ref">
    <a href="https://www.apache.org" alt="apache foundation link"><img src="https://www.apache.org/foundation/press/kit/asf_logo.svg" title="apache foundation logo"/></a>
  </div>
  <div class="apache_ref_mobile">
    <a href="https://www.apache.org" alt="apache foundation link">The Apache Software Foundation</a>
  </div>

  <header id="header" class="alt">
    <div class="logo"><a href="/index.html" alt="Apache James"><img src="/images/james.svg" alt="james logo"/></a></div>
    <h1 class="hidden">James Enterprise Mail Server</h1>
    <h2>Emails at the heart of your business logic</h2>
  </header>

  <!-- Main -->
    <div id="main">

      <!-- Content -->
        <section id="content" class="main">

          <h1><span class="icon fa-file-text-o"></span> Linagora June newsletter</h1>
          <h2><span class="icon fa-clock-o"></span><b> June 06, 2018</b></h2>

          <br/>

          <div>
            <p>In the name of the James team @Linagora I will be presenting you what we did in the past few weeks, and plan to work on in the coming weeks.</p>

<p>We have to work on some specific features to make James easier to adopt for large organizations.</p>

<h1 id="what-was-achieved-in-may">What was achieved in May</h1>

<h2 id="notifications-when-soon-over-quota">Notifications when soon over quota</h2>

<blockquote>
  <p>A mail needs to be sent to the user to warn him. This is an attempts to allow clients not implementing quota’s RFCs to still get the warning.</p>

  <p>This is implemented with mailbox listeners (and not mailets), with event sourcing. We added the interfaces and implementations to achieve this feature in James using event sourcing with events being stored in Cassandra or in memory.
Such a technical solution might be very useful to implement other feature.</p>

  <p>This mailbox listener is optional. We allowed one to register his (potentially custom) mailbox listeners when working with Guice.</p>
</blockquote>

<h2 id="searching-user-by-quota-usage">Searching user by quota usage</h2>

<blockquote>
  <p>This would allow an admin to inspect per-user quota usage, via a webadmin interface.</p>

  <p>Again, we provided two implementations: a scanning one, which naively enumerates mailboxes to compute occupation, and one where quota occupation is indexed in ElasticSearch.</p>
</blockquote>

<h2 id="performance-enhancements">Performance enhancements</h2>

<blockquote>
  <p>In order to have a very good mail search experience, it is possible to plug Apache Tika as a text extractor into James. We use Tika as an external service that we call with HTTP. When you use this Tika extractor with ElasticSearch indexing, you get a very powerful fulltext search even on complex attachment format like LibreOffice documents.</p>

  <p>We did experience slow requests with our Tika server. We contributed <a href="https://github.com/apache/tika/pull/237">this issue</a> which significantly enhanced Tika server performance, and we introduce a cache on James side to reduce calls to tika.</p>

  <p>We also worked on improving massive JMAP operation performance (delete a large number of emails).</p>
</blockquote>

<h1 id="what-we-will-work-on-in-june">What we will work on in June</h1>

<h2 id="data-leak-prevention">Data Leak Prevention</h2>

<blockquote>
  <p>We should have a matcher applying rules defined by the admin. This matcher will then store suspicious emails in specific mail repository for an admin review.</p>

  <p>To implement this, we need to enhance browsing to MailRepository via WebAdmin. We need to allow storing such rules as well as updating them via webadmin. We need finally a mailet storing emails in a repository given its sender domain.</p>
</blockquote>

<h3 id="exporting-a-mail-account">Exporting a mail account</h3>

<blockquote>
  <p>As an administrator, I should be able to export the content of my mail account. This both allows easier migrations, comply with legal requirements as well as allow some forms of backups.</p>

  <p>The chosen format is EMLs in a ZIP format, with the folder structure described in archive meta-data, and specific metadata to ease restoring a James account (flags, etc…). An administrator (via webamin) should be able to download/upload such backups in order to do export/restores mail accounts.</p>
</blockquote>

<h3 id="coming-next">Coming next</h3>

<p>Along side these features that turns out to be necessary for large organisations, our focus will be on having a distributed
James server. To achieve this, we will propose soon a distributed mail queue based on RabbitMQ.</p>



          </div>
          <footer class="major special">
            <hr>
            <center>
              <ul class="actions">
                <li><a href="/index.html" class="button">Back to homepage</a></li>
                <li><a href="/posts.html" class="button">Read More Posts</a></li>
              </ul>
            </center>
          </footer>
        </section>
    </div>
    <footer id="footer" class="major">
      <section>
        <h2>James</h2>
        <ul class="no-padding">
          <li class="no-padding"><a href="../#intro" class="active">About</a></li>
          <li class="no-padding"><a href="../#first">Get Started</a></li>
          <li class="no-padding"><a href="../#posts">Last Posts</a></li>
          <li class="no-padding"><a href="../#second">Community</a></li>
          <li class="no-padding"><a href="https://james.apache.org/"><span class="fa fa-external-link"></span> Documentation</a></li>
        </ul>
      </section>
      <section>
        <h2>Connect</h2>
        <ul class="icons">
          <li><a href="http://twitter.com/ApacheJames" class="icon fa-twitter alt"><span class="label">Twitter</span></a></li>
          <li><a href="https://github.com/apache/james-project" class="icon fa-github alt"><span class="label">GitHub</span></a></li>
          <li><a href="http://james.apache.org/mail.html" class="icon fa-envelope-o alt"><span class="label">Mailing-list</span></a></li>
        </ul>
      </section>
      <section>
        <h2>Copyright</h2>
        <a href="http://www.apache.org/">Apache Licence Copyright</a><br/>
        &copy;Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>
      </section>
    </footer>
</div>

</body>
</html>
