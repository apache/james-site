<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_18) on Mon Aug 03 13:36:26 BST 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
MailetContext (Apache Mailet API 2.5-SNAPSHOT API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.mailet.MailetContext interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="MailetContext (Apache Mailet API 2.5-SNAPSHOT API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/apache/mailet/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MailetContext.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/apache/mailet/MailetConfig.html" title="interface in org.apache.mailet"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/apache/mailet/MailetException.html" title="class in org.apache.mailet"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/apache/mailet/MailetContext.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MailetContext.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.mailet</FONT>
<BR>
Interface MailetContext</H2>
<HR>
<DL>
<DT><PRE>public interface <B>MailetContext</B></DL>
</PRE>

<P>
Defines a set of methods that can be used to interact with the mailet
 container. For example, it can be used to send a new message, to deliver
 a message locally, or to write to a log file.
 <p>
 Mailets and Matchers can retrieve a MailetContext through their
 respective MailetConfig and MatcherConfig objects, which are provided
 to them by the mailet container when they are initialized.
 <p>
 <b>Mailet Context Attributes</b>
 <p>
 The Mailet Context can provide additional configuration or other
 information not defined in this interface to Mailets and Matchers
 by using attributes. See your server documentation for information
 on the attributes it provides.
 <p>
 Every attribute consists of a name and a value.
 Attribute names should follow the same convention as package names.
 The Mailet API specification reserves names matching
 <i>org.apache.james.*</i> and <i>org.apache.mailet.*</i>.
 Attribute values can be arbitrary objects.
 <p>
 The list of attributes which are currently associated with a mailet
 context can be retrieved using the <A HREF="../../../org/apache/mailet/MailetContext.html#getAttributeNames()"><CODE>getAttributeNames()</CODE></A>
 method, and given its name, the value of an attribute can be
 retrieved using the <A HREF="../../../org/apache/mailet/MailetContext.html#getAttribute(java.lang.String)"><CODE>getAttribute(java.lang.String)</CODE></A> method.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#bounce(org.apache.mailet.Mail, java.lang.String)">bounce</A></B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail,
       java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bounces the message using a standard format with the given message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#bounce(org.apache.mailet.Mail, java.lang.String, org.apache.mailet.MailAddress)">bounce</A></B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail,
       java.lang.String&nbsp;message,
       <A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;bouncer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bounces the message using a standard format with the given message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getAttribute(java.lang.String)">getAttribute</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the value of the named mailet context attribute,
 or null if the attribute does not exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getAttributeNames()">getAttributeNames</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an Iterator over the names of all attributes which are set
 in this mailet context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getMailServers(java.lang.String)">getMailServers</A></B>(java.lang.String&nbsp;domain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the hostnames that are specified as mail handlers for
 the given domain name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getMajorVersion()">getMajorVersion</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the major version number of the Mailet API that this mailet
 container supports.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getMinorVersion()">getMinorVersion</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the minor version number of the Mailet API that this mailet
 container supports.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getPostmaster()">getPostmaster</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the Postmaster address for this mailet context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getServerInfo()">getServerInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name and version of the mailet container on which
 the mailet is running.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#getSMTPHostAddresses(java.lang.String)">getSMTPHostAddresses</A></B>(java.lang.String&nbsp;domain)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the SMTP host addresses specified as mail handlers for
 the given domain name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#isLocalEmail(org.apache.mailet.MailAddress)">isLocalEmail</A></B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;mailAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if an address is local, i.e.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#isLocalServer(java.lang.String)">isLocalServer</A></B>(java.lang.String&nbsp;hostname)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if a host name is local, i.e.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#isLocalUser(java.lang.String)">isLocalUser</A></B>(java.lang.String&nbsp;userAccount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>use <A HREF="../../../org/apache/mailet/MailetContext.html#isLocalEmail(org.apache.mailet.MailAddress)"><CODE>isLocalEmail(MailAddress)</CODE></A> instead</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#log(java.lang.String)">log</A></B>(java.lang.String&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the specified message to a mailet log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#log(java.lang.String, java.lang.Throwable)">log</A></B>(java.lang.String&nbsp;message,
    java.lang.Throwable&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes the specified message to a mailet log, along with the stack
 trace of the given Throwable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#removeAttribute(java.lang.String)">removeAttribute</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the attribute with the given name from this Mail instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#sendMail(org.apache.mailet.Mail)">sendMail</A></B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an outgoing message to the top of this mailet container's root queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#sendMail(org.apache.mailet.MailAddress, java.util.Collection, javax.mail.internet.MimeMessage)">sendMail</A></B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;sender,
         java.util.Collection&nbsp;recipients,
         javax.mail.internet.MimeMessage&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an outgoing message to the top of this mailet container's root queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#sendMail(org.apache.mailet.MailAddress, java.util.Collection, javax.mail.internet.MimeMessage, java.lang.String)">sendMail</A></B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;sender,
         java.util.Collection&nbsp;recipients,
         javax.mail.internet.MimeMessage&nbsp;message,
         java.lang.String&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an outgoing message to the top of this mailet container's queue for the
 specified processor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#sendMail(javax.mail.internet.MimeMessage)">sendMail</A></B>(javax.mail.internet.MimeMessage&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an outgoing message to the top of this mailet container's root queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#setAttribute(java.lang.String, java.lang.Object)">setAttribute</A></B>(java.lang.String&nbsp;name,
             java.lang.Object&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Associates an attribute with the given name and value with this mailet context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/MailetContext.html#storeMail(org.apache.mailet.MailAddress, org.apache.mailet.MailAddress, javax.mail.internet.MimeMessage)">storeMail</A></B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;sender,
          <A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;recipient,
          javax.mail.internet.MimeMessage&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>- use sparingly.  Service will be replaced with
 resource acquired via JNDI.</I></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getMajorVersion()"><!-- --></A><H3>
getMajorVersion</H3>
<PRE>
int <B>getMajorVersion</B>()</PRE>
<DL>
<DD>Returns the major version number of the Mailet API that this mailet
 container supports. For example, if the mailet container supports
 version 1.2 of the Mailet API, this method returns 1.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the major version number of the supported Mailet API</DL>
</DD>
</DL>
<HR>

<A NAME="getMinorVersion()"><!-- --></A><H3>
getMinorVersion</H3>
<PRE>
int <B>getMinorVersion</B>()</PRE>
<DL>
<DD>Returns the minor version number of the Mailet API that this mailet
 container supports. For example, if the mailet container supports
 version 1.2 of the Mailet API, this method returns 2.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the minor version number of the supported Mailet API</DL>
</DD>
</DL>
<HR>

<A NAME="getServerInfo()"><!-- --></A><H3>
getServerInfo</H3>
<PRE>
java.lang.String <B>getServerInfo</B>()</PRE>
<DL>
<DD>Returns the name and version of the mailet container on which
 the mailet is running.
 <p>
 The returned string is of the form <code>&lt;servername&gt;/&lt;versionnumber&gt;</code>,
 optionally followed by additional information in parentheses. For example,
 the JAMES mailet container may return the string <code>"JAMES/1.2"</code>
 or <code>"JAMES/1.2 (JDK 1.3.0; Windows NT 4.0 x86)"</code>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the server information string</DL>
</DD>
</DL>
<HR>

<A NAME="getAttributeNames()"><!-- --></A><H3>
getAttributeNames</H3>
<PRE>
java.util.Iterator <B>getAttributeNames</B>()</PRE>
<DL>
<DD>Returns an Iterator over the names of all attributes which are set
 in this mailet context.
 <p>
 The <A HREF="../../../org/apache/mailet/MailetContext.html#getAttribute(java.lang.String)"><CODE>getAttribute(java.lang.String)</CODE></A> method can be called to
 retrieve an attribute's value given its name.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an Iterator (of Strings) over all attribute names</DL>
</DD>
</DL>
<HR>

<A NAME="getAttribute(java.lang.String)"><!-- --></A><H3>
getAttribute</H3>
<PRE>
java.lang.Object <B>getAttribute</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Returns the value of the named mailet context attribute,
 or null if the attribute does not exist.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the attribute name
<DT><B>Returns:</B><DD>the attribute value, or null if the attribute does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="setAttribute(java.lang.String, java.lang.Object)"><!-- --></A><H3>
setAttribute</H3>
<PRE>
void <B>setAttribute</B>(java.lang.String&nbsp;name,
                  java.lang.Object&nbsp;value)</PRE>
<DL>
<DD>Associates an attribute with the given name and value with this mailet context.
 <p>
 If an attribute with the given name already exists, it is replaced, and the
 previous value is returned.
 <p>
 Attribute names should follow the same convention as package names.
 The Mailet API specification reserves names matching
 <i>org.apache.james.*</i> and <i>org.apache.mailet.*</i>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the attribute name<DD><CODE>value</CODE> - the attribute value</DL>
</DD>
</DL>
<HR>

<A NAME="removeAttribute(java.lang.String)"><!-- --></A><H3>
removeAttribute</H3>
<PRE>
void <B>removeAttribute</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Removes the attribute with the given name from this Mail instance.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the attribute to be removed<DT><B>Since:</B></DT>
  <DD>Mailet API v2.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="log(java.lang.String)"><!-- --></A><H3>
log</H3>
<PRE>
void <B>log</B>(java.lang.String&nbsp;message)</PRE>
<DL>
<DD>Writes the specified message to a mailet log. The name and type of
 the mailet log is specific to the mailet container.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to be written to the log</DL>
</DD>
</DL>
<HR>

<A NAME="log(java.lang.String, java.lang.Throwable)"><!-- --></A><H3>
log</H3>
<PRE>
void <B>log</B>(java.lang.String&nbsp;message,
         java.lang.Throwable&nbsp;t)</PRE>
<DL>
<DD>Writes the specified message to a mailet log, along with the stack
 trace of the given Throwable. The name and type of the mailet log
 is specific to the mailet container.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to be written to the log<DD><CODE>t</CODE> - the Throwable whose stack trace is to be written to the log</DL>
</DD>
</DL>
<HR>

<A NAME="getPostmaster()"><!-- --></A><H3>
getPostmaster</H3>
<PRE>
<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A> <B>getPostmaster</B>()</PRE>
<DL>
<DD>Returns the Postmaster address for this mailet context.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the Postmaster address</DL>
</DD>
</DL>
<HR>

<A NAME="isLocalServer(java.lang.String)"><!-- --></A><H3>
isLocalServer</H3>
<PRE>
boolean <B>isLocalServer</B>(java.lang.String&nbsp;hostname)</PRE>
<DL>
<DD>Checks if a host name is local, i.e. this server is the
 final delivery destination for messages sent to this host.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hostname</CODE> - the host name to check
<DT><B>Returns:</B><DD>true if server is local, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="isLocalUser(java.lang.String)"><!-- --></A><H3>
isLocalUser</H3>
<PRE>
boolean <B>isLocalUser</B>(java.lang.String&nbsp;userAccount)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>use <A HREF="../../../org/apache/mailet/MailetContext.html#isLocalEmail(org.apache.mailet.MailAddress)"><CODE>isLocalEmail(MailAddress)</CODE></A> instead</I>
<P>
<DD>Checks if a user account is local, i.e. the account exists locally
 and this server is the final delivery destination for messages
 sent to this address.
 <p>
 This given user account string should contain the full
 user address, i.e. user@domain. If the domain part is
 missing, "localhost" will be used as the domain name.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userAccount</CODE> - the full address of the account to be checked
<DT><B>Returns:</B><DD>true if the account is a local account, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="isLocalEmail(org.apache.mailet.MailAddress)"><!-- --></A><H3>
isLocalEmail</H3>
<PRE>
boolean <B>isLocalEmail</B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;mailAddress)</PRE>
<DL>
<DD>Checks if an address is local, i.e. its account exists locally
 and this server is the final delivery destination for messages
 sent to this address.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mailAddress</CODE> - the full address of the account to be checked
<DT><B>Returns:</B><DD>true if the account is a local account, false otherwise<DT><B>Since:</B></DT>
  <DD>Mailet API 2.4</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMailServers(java.lang.String)"><!-- --></A><H3>
getMailServers</H3>
<PRE>
java.util.Collection <B>getMailServers</B>(java.lang.String&nbsp;domain)</PRE>
<DL>
<DD>Returns the hostnames that are specified as mail handlers for
 the given domain name. The host names are determined using DNS
 lookup of MX records and are returned sorted by priority
 (as detailed in the SMTP RFC).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>domain</CODE> - the domain name whose mail handling hosts are requested
<DT><B>Returns:</B><DD>the sorted mail-handling hostnames for the domain</DL>
</DD>
</DL>
<HR>

<A NAME="getSMTPHostAddresses(java.lang.String)"><!-- --></A><H3>
getSMTPHostAddresses</H3>
<PRE>
java.util.Iterator <B>getSMTPHostAddresses</B>(java.lang.String&nbsp;domain)</PRE>
<DL>
<DD>Returns the SMTP host addresses specified as mail handlers for
 the given domain name. This is equivalent to calling the
 <A HREF="../../../org/apache/mailet/MailetContext.html#getMailServers(java.lang.String)"><CODE>getMailServers(java.lang.String)</CODE></A> method and then performing address
 resolution lookups on all returned host names in order.
 The results are returned as instances of <A HREF="../../../org/apache/mailet/HostAddress.html" title="class in org.apache.mailet"><CODE>HostAddress</CODE></A>
 containing the host and address information.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>domain</CODE> - the domain whose mail handling SMTP host addresses are requested
<DT><B>Returns:</B><DD>an Iterator over HostAddress, in proper order of priority, or
         an empty iterator if no hosts are found<DT><B>Since:</B></DT>
  <DD>Mailet API v2.3</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendMail(javax.mail.internet.MimeMessage)"><!-- --></A><H3>
sendMail</H3>
<PRE>
void <B>sendMail</B>(javax.mail.internet.MimeMessage&nbsp;message)
              throws javax.mail.MessagingException</PRE>
<DL>
<DD>Sends an outgoing message to the top of this mailet container's root queue.
 This is functionally equivalent to having opened an SMTP session to the local
 host and delivering the message using the sender and recipients from within
 the message itself.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - the message to send
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs accessing or sending the message</DL>
</DD>
</DL>
<HR>

<A NAME="sendMail(org.apache.mailet.MailAddress, java.util.Collection, javax.mail.internet.MimeMessage)"><!-- --></A><H3>
sendMail</H3>
<PRE>
void <B>sendMail</B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;sender,
              java.util.Collection&nbsp;recipients,
              javax.mail.internet.MimeMessage&nbsp;message)
              throws javax.mail.MessagingException</PRE>
<DL>
<DD>Sends an outgoing message to the top of this mailet container's root queue.
 This is functionally equivalent to having opened an SMTP session to the local
 host and delivering the message using the given sender and recipients.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sender</CODE> - the message sender<DD><CODE>recipients</CODE> - the message recipients as a Collection of MailAddress objects<DD><CODE>message</CODE> - the message to send
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs accessing or sending the message</DL>
</DD>
</DL>
<HR>

<A NAME="sendMail(org.apache.mailet.MailAddress, java.util.Collection, javax.mail.internet.MimeMessage, java.lang.String)"><!-- --></A><H3>
sendMail</H3>
<PRE>
void <B>sendMail</B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;sender,
              java.util.Collection&nbsp;recipients,
              javax.mail.internet.MimeMessage&nbsp;message,
              java.lang.String&nbsp;state)
              throws javax.mail.MessagingException</PRE>
<DL>
<DD>Sends an outgoing message to the top of this mailet container's queue for the
 specified processor.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sender</CODE> - the message sender<DD><CODE>recipients</CODE> - the message recipients as a Collection of MailAddress objects<DD><CODE>message</CODE> - the message to send<DD><CODE>state</CODE> - the state of the message, indicating the name of the processor for
        which the message will be queued
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs accessing or sending the message</DL>
</DD>
</DL>
<HR>

<A NAME="sendMail(org.apache.mailet.Mail)"><!-- --></A><H3>
sendMail</H3>
<PRE>
void <B>sendMail</B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail)
              throws javax.mail.MessagingException</PRE>
<DL>
<DD>Sends an outgoing message to the top of this mailet container's root queue.
 This is the equivalent of opening an SMTP session to localhost.
 The Mail object provides all envelope and content information
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mail</CODE> - - the message that is to sent
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs accessing or sending the message</DL>
</DD>
</DL>
<HR>

<A NAME="bounce(org.apache.mailet.Mail, java.lang.String)"><!-- --></A><H3>
bounce</H3>
<PRE>
void <B>bounce</B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail,
            java.lang.String&nbsp;message)
            throws javax.mail.MessagingException</PRE>
<DL>
<DD>Bounces the message using a standard format with the given message.
 <p>
 The message will be sent to the original sender from the postmaster address 
 as configured in this mailet context, adding the message to top of mail
 server queue using <code>sendMail</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mail</CODE> - the message to bounce, with the original sender<DD><CODE>message</CODE> - a descriptive message explaining why the message bounced
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs accessing or sending the message</DL>
</DD>
</DL>
<HR>

<A NAME="bounce(org.apache.mailet.Mail, java.lang.String, org.apache.mailet.MailAddress)"><!-- --></A><H3>
bounce</H3>
<PRE>
void <B>bounce</B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail,
            java.lang.String&nbsp;message,
            <A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;bouncer)
            throws javax.mail.MessagingException</PRE>
<DL>
<DD>Bounces the message using a standard format with the given message.
 <p>
 The message will be sent to the original sender from the given address,
 adding the message to top of mail server queue using <code>sendMail</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mail</CODE> - the message to bounce, with the original sender<DD><CODE>message</CODE> - a descriptive message explaining why the message bounced<DD><CODE>bouncer</CODE> - the address used as the sender of the bounce message
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs accessing or sending the message</DL>
</DD>
</DL>
<HR>

<A NAME="storeMail(org.apache.mailet.MailAddress, org.apache.mailet.MailAddress, javax.mail.internet.MimeMessage)"><!-- --></A><H3>
storeMail</H3>
<PRE>
void <B>storeMail</B>(<A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;sender,
               <A HREF="../../../org/apache/mailet/MailAddress.html" title="class in org.apache.mailet">MailAddress</A>&nbsp;recipient,
               javax.mail.internet.MimeMessage&nbsp;message)
               throws javax.mail.MessagingException</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>- use sparingly.  Service will be replaced with
 resource acquired via JNDI.</I>
<P>
<DD>Stores the message is in the local repository associated with
 recipient for later retrieval, e.g., by a POP3 or IMAP service.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sender</CODE> - - the sender of the incoming message<DD><CODE>recipient</CODE> - - the user who is receiving this message (as a complete email address)<DD><CODE>message</CODE> - - the MimeMessage to store in a local mailbox
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - - if the message fails to parse</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/apache/mailet/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MailetContext.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/apache/mailet/MailetConfig.html" title="interface in org.apache.mailet"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/apache/mailet/MailetException.html" title="class in org.apache.mailet"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/apache/mailet/MailetContext.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MailetContext.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2007-2009 <a href="http://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
