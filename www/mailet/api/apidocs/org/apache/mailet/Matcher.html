<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_18) on Mon Aug 03 13:36:26 BST 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
Matcher (Apache Mailet API 2.5-SNAPSHOT API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.mailet.Matcher interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Matcher (Apache Mailet API 2.5-SNAPSHOT API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/apache/mailet/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Matcher.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/apache/mailet/MailetException.html" title="class in org.apache.mailet"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/apache/mailet/MatcherConfig.html" title="interface in org.apache.mailet"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/apache/mailet/Matcher.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Matcher.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.mailet</FONT>
<BR>
Interface Matcher</H2>
<HR>
<DL>
<DT><PRE>public interface <B>Matcher</B></DL>
</PRE>

<P>
This interface defines the behaviour of the message "routing" inside
 the mailet container. At its heart is the <A HREF="../../../org/apache/mailet/Matcher.html#match(org.apache.mailet.Mail)"><CODE>match(Mail)</CODE></A> method,
 which inspects a Mail and returns a subset of its recipients which meet
 this Matcher's criteria.
 <p>
 An important feature of the mailet container is the ability to fork
 processing of messages. When a message first arrives at the server,
 it might have multiple recipients specified. When a message is passed
 to a matcher, the matcher might only match some of the listed recipients.
 The mailet container should then duplicate the message, splitting the
 recipient list across the two messages as per the match result, and
 proceed to process them separately.
 <p>
 The Matcher life cycle is controlled by the mailet container,
 which invokes the Matcher methods in the following order:
 <ol>
 <li>The matcher is constructed.
 <li>The <A HREF="../../../org/apache/mailet/Matcher.html#init(org.apache.mailet.MatcherConfig)"><CODE>init(org.apache.mailet.MatcherConfig)</CODE></A> method is invoked once to initialize the matcher.
 <li>The <A HREF="../../../org/apache/mailet/Matcher.html#match(org.apache.mailet.Mail)"><CODE>match(org.apache.mailet.Mail)</CODE></A> method is invoked to match mail messages.
     This can occur an unlimited number of times, even concurrently.
 <li>At some point, such as when the mailet container is shut down,
     the matcher is taken out of service and then destroyed by invoking
     the <A HREF="../../../org/apache/mailet/Matcher.html#destroy()"><CODE>destroy()</CODE></A> method once.
 </ol>
 <p>
 In addition to the life-cycle methods, this interface provides the
 <A HREF="../../../org/apache/mailet/Matcher.html#getMatcherConfig()"><CODE>getMatcherConfig()</CODE></A> method, which provides the Matcher with
 its configuration information and a <A HREF="../../../org/apache/mailet/MailetContext.html" title="interface in org.apache.mailet"><CODE>MailetContext</CODE></A> through which
 it can interact with the mailet container, and the <A HREF="../../../org/apache/mailet/Matcher.html#getMatcherInfo()"><CODE>getMatcherInfo()</CODE></A>
 method, which provides basic information about the Matcher.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/Matcher.html#destroy()">destroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destroys this Matcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/apache/mailet/MatcherConfig.html" title="interface in org.apache.mailet">MatcherConfig</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/Matcher.html#getMatcherConfig()">getMatcherConfig</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a MatcherConfig object, which provides initialization parameters
 and a <A HREF="../../../org/apache/mailet/MailetContext.html" title="interface in org.apache.mailet"><CODE>MailetContext</CODE></A> through which it can interact with the
 mailet container.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/Matcher.html#getMatcherInfo()">getMatcherInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns information about the matcher, such as author, version and
 copyright.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/Matcher.html#init(org.apache.mailet.MatcherConfig)">init</A></B>(<A HREF="../../../org/apache/mailet/MatcherConfig.html" title="interface in org.apache.mailet">MatcherConfig</A>&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes this Matcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/apache/mailet/Matcher.html#match(org.apache.mailet.Mail)">match</A></B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a Mail message, looks at any pertinent information, and returns
 a subset of recipients that meet the match conditions.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init(org.apache.mailet.MatcherConfig)"><!-- --></A><H3>
init</H3>
<PRE>
void <B>init</B>(<A HREF="../../../org/apache/mailet/MatcherConfig.html" title="interface in org.apache.mailet">MatcherConfig</A>&nbsp;config)
          throws javax.mail.MessagingException</PRE>
<DL>
<DD>Initializes this Matcher.
 <p>
 This method is called only once, and must complete successfully
 before the <A HREF="../../../org/apache/mailet/Matcher.html#match(org.apache.mailet.Mail)"><CODE>match(org.apache.mailet.Mail)</CODE></A> method can be invoked.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>config</CODE> - a MatcherConfig containing the matcher's configuration
          and initialization parameters
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="match(org.apache.mailet.Mail)"><!-- --></A><H3>
match</H3>
<PRE>
java.util.Collection <B>match</B>(<A HREF="../../../org/apache/mailet/Mail.html" title="interface in org.apache.mailet">Mail</A>&nbsp;mail)
                           throws javax.mail.MessagingException</PRE>
<DL>
<DD>Takes a Mail message, looks at any pertinent information, and returns
 a subset of recipients that meet the match conditions.
 <p>
 Matchers typically run inside multithreaded mailet containers that can handle
 multiple requests concurrently. Developers must be aware to synchronize access
 to any shared resources such as files, network connections, and as well as the
 matcher's fields. More information on multithreaded programming in Java is
 available at <a href="http://java.sun.com/Series/Tutorial/java/threads/multithreaded.html">the
 Java tutorial on multi-threaded programming</a>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mail</CODE> - the Mail to match
<DT><B>Returns:</B><DD>the recipients that meet the match criteria as a Collection of String objects
<DT><B>Throws:</B>
<DD><CODE>javax.mail.MessagingException</CODE> - if any error occurs which prevents the Mail
         matching from completing successfully</DL>
</DD>
</DL>
<HR>

<A NAME="destroy()"><!-- --></A><H3>
destroy</H3>
<PRE>
void <B>destroy</B>()</PRE>
<DL>
<DD>Destroys this Matcher.
 <p>
 This method is called only once, after all <A HREF="../../../org/apache/mailet/Matcher.html#match(org.apache.mailet.Mail)"><CODE>match(org.apache.mailet.Mail)</CODE></A> invocations
 have completed (or a timeout period has elapsed). After this method
 returns, this Matcher will no longer be used.
 <p>
 Implementations should use this method to release any resources that
 are being held (such as memory, file handles or threads) and make sure
 that any persistent information is properly stored.
 <p>
 Note that containers <code>SHOULD NOT</code> invoke this method before 
 <A HREF="../../../org/apache/mailet/Matcher.html#init(org.apache.mailet.MatcherConfig)"><CODE>init(MatcherConfig)</CODE></A> has been successfully completed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMatcherConfig()"><!-- --></A><H3>
getMatcherConfig</H3>
<PRE>
<A HREF="../../../org/apache/mailet/MatcherConfig.html" title="interface in org.apache.mailet">MatcherConfig</A> <B>getMatcherConfig</B>()</PRE>
<DL>
<DD>Returns a MatcherConfig object, which provides initialization parameters
 and a <A HREF="../../../org/apache/mailet/MailetContext.html" title="interface in org.apache.mailet"><CODE>MailetContext</CODE></A> through which it can interact with the
 mailet container.
 <p>
 Implementations of this interface are responsible for storing the
 MatcherConfig which they receive in the <A HREF="../../../org/apache/mailet/Matcher.html#init(org.apache.mailet.MatcherConfig)"><CODE>init(org.apache.mailet.MatcherConfig)</CODE></A> method so
 that this method can return it.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the MatcherConfig that this matcher was initialized with</DL>
</DD>
</DL>
<HR>

<A NAME="getMatcherInfo()"><!-- --></A><H3>
getMatcherInfo</H3>
<PRE>
java.lang.String <B>getMatcherInfo</B>()</PRE>
<DL>
<DD>Returns information about the matcher, such as author, version and
 copyright.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the Mailet information (as a plain text string)</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/apache/mailet/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Matcher.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/apache/mailet/MailetException.html" title="class in org.apache.mailet"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/apache/mailet/MatcherConfig.html" title="interface in org.apache.mailet"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/apache/mailet/Matcher.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Matcher.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2007-2009 <a href="http://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
