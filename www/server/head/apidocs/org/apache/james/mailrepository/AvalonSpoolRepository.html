<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_17) on Sat Feb 28 20:47:35 GMT 2009 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
AvalonSpoolRepository (Apache JAMES Server 3.0-SNAPSHOT API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.james.mailrepository.AvalonSpoolRepository class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AvalonSpoolRepository (Apache JAMES Server 3.0-SNAPSHOT API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AvalonSpoolRepository.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/james/mailrepository/AvalonMailStore.html" title="class in org.apache.james.mailrepository"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/james/mailrepository/JDBCMailRepository.html" title="class in org.apache.james.mailrepository"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/james/mailrepository/AvalonSpoolRepository.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AvalonSpoolRepository.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.apache.james.mailrepository.AbstractMailRepository">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.james.mailrepository</FONT>
<BR>
Class AvalonSpoolRepository</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by ">org.apache.avalon.framework.logger.AbstractLogEnabled
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html" title="class in org.apache.james.mailrepository">org.apache.james.mailrepository.AbstractMailRepository</A>
          <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html" title="class in org.apache.james.mailrepository">org.apache.james.mailrepository.AvalonMailRepository</A>
              <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.james.mailrepository.AvalonSpoolRepository</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.avalon.framework.activity.Initializable, org.apache.avalon.framework.configuration.Configurable, org.apache.avalon.framework.logger.LogEnabled, org.apache.avalon.framework.service.Serviceable, <A HREF="../../../../org/apache/james/services/MailRepository.html" title="interface in org.apache.james.services">MailRepository</A>, <A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>AvalonSpoolRepository</B><DT>extends <A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html" title="class in org.apache.james.mailrepository">AvalonMailRepository</A><DT>implements <A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></DL>
</PRE>

<P>
Implementation of a MailRepository on a FileSystem.

 Requires a configuration element in the .conf.xml file of the form:
  &lt;repository destinationURL="file://path-to-root-dir-for-repository"
              type="MAIL"
              model="SYNCHRONOUS"/&gt;
 Requires a logger called MailRepository.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0.0, 24/04/1999</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_org.apache.james.services.SpoolRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface org.apache.james.services.<A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.AcceptFilter.html" title="interface in org.apache.james.services">SpoolRepository.AcceptFilter</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.james.mailrepository.AbstractMailRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.apache.james.mailrepository.<A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html" title="class in org.apache.james.mailrepository">AbstractMailRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#DEEP_DEBUG">DEEP_DEBUG</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#store">store</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.james.services.SpoolRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface org.apache.james.services.<A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html#ROLE">ROLE</A>, <A HREF="../../../../org/apache/james/services/SpoolRepository.html#SPOOL">SPOOL</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.james.services.MailRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface org.apache.james.services.<A HREF="../../../../org/apache/james/services/MailRepository.html" title="interface in org.apache.james.services">MailRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/services/MailRepository.html#MAIL">MAIL</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/james/mailrepository/AvalonSpoolRepository.html#AvalonSpoolRepository()">AvalonSpoolRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.mailet.Mail</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/mailrepository/AvalonSpoolRepository.html#accept()">accept</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an arbitrarily selected mail deposited in this Repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.mailet.Mail</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/mailrepository/AvalonSpoolRepository.html#accept(long)">accept</A></B>(long&nbsp;delay)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an arbitrarily selected mail deposited in this Repository that
 is either ready immediately for delivery, or is younger than it's last_updated plus
 the number of failed attempts times the delay time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.apache.mailet.Mail</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/james/mailrepository/AvalonSpoolRepository.html#accept(org.apache.james.services.SpoolRepository.AcceptFilter)">accept</A></B>(<A HREF="../../../../org/apache/james/services/SpoolRepository.AcceptFilter.html" title="interface in org.apache.james.services">SpoolRepository.AcceptFilter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an arbitrarily select mail deposited in this Repository for
 which the supplied filter's accept method returns true.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.james.mailrepository.AvalonMailRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.apache.james.mailrepository.<A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html" title="class in org.apache.james.mailrepository">AvalonMailRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html#configure(org.apache.avalon.framework.configuration.Configuration)">configure</A>, <A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html#initialize()">initialize</A>, <A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html#internalRemove(java.lang.String)">internalRemove</A>, <A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html#internalStore(org.apache.mailet.Mail)">internalStore</A>, <A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html#list()">list</A>, <A HREF="../../../../org/apache/james/mailrepository/AvalonMailRepository.html#retrieve(java.lang.String)">retrieve</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.james.mailrepository.AbstractMailRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.apache.james.mailrepository.<A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html" title="class in org.apache.james.mailrepository">AbstractMailRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#lock(java.lang.String)">lock</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#remove(java.util.Collection)">remove</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#remove(org.apache.mailet.Mail)">remove</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#remove(java.lang.String)">remove</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#service(org.apache.avalon.framework.service.ServiceManager)">service</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#store(org.apache.mailet.Mail)">store</A>, <A HREF="../../../../org/apache/james/mailrepository/AbstractMailRepository.html#unlock(java.lang.String)">unlock</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.avalon.framework.logger.AbstractLogEnabled"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.apache.avalon.framework.logger.AbstractLogEnabled</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>enableLogging, getLogger, setupLogger, setupLogger, setupLogger</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.james.services.MailRepository"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface org.apache.james.services.<A HREF="../../../../org/apache/james/services/MailRepository.html" title="interface in org.apache.james.services">MailRepository</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/apache/james/services/MailRepository.html#list()">list</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#lock(java.lang.String)">lock</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#remove(java.util.Collection)">remove</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#remove(org.apache.mailet.Mail)">remove</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#remove(java.lang.String)">remove</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#retrieve(java.lang.String)">retrieve</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#store(org.apache.mailet.Mail)">store</A>, <A HREF="../../../../org/apache/james/services/MailRepository.html#unlock(java.lang.String)">unlock</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AvalonSpoolRepository()"><!-- --></A><H3>
AvalonSpoolRepository</H3>
<PRE>
public <B>AvalonSpoolRepository</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="accept()"><!-- --></A><H3>
accept</H3>
<PRE>
public org.apache.mailet.Mail <B>accept</B>()
                              throws java.lang.InterruptedException</PRE>
<DL>
<DD><p>Returns an arbitrarily selected mail deposited in this Repository.
 Usage: SpoolManager calls accept() to see if there are any unprocessed 
 mails in the spool repository.</p>

 <p>Synchronized to ensure thread safe access to the underlying spool.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html#accept()">accept</A></CODE> in interface <CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the mail
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="accept(long)"><!-- --></A><H3>
accept</H3>
<PRE>
public org.apache.mailet.Mail <B>accept</B>(long&nbsp;delay)
                              throws java.lang.InterruptedException</PRE>
<DL>
<DD><p>Returns an arbitrarily selected mail deposited in this Repository that
 is either ready immediately for delivery, or is younger than it's last_updated plus
 the number of failed attempts times the delay time.
 Usage: RemoteDeliverySpool calls accept() with some delay and should block until an
 unprocessed mail is available.</p>

 <p>Synchronized to ensure thread safe access to the underlying spool.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html#accept(long)">accept</A></CODE> in interface <CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the mail
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="accept(org.apache.james.services.SpoolRepository.AcceptFilter)"><!-- --></A><H3>
accept</H3>
<PRE>
public org.apache.mailet.Mail <B>accept</B>(<A HREF="../../../../org/apache/james/services/SpoolRepository.AcceptFilter.html" title="interface in org.apache.james.services">SpoolRepository.AcceptFilter</A>&nbsp;filter)
                              throws java.lang.InterruptedException</PRE>
<DL>
<DD>Returns an arbitrarily select mail deposited in this Repository for
 which the supplied filter's accept method returns true.
 Usage: RemoteDeliverySpool calls accept(filter) with some a filter which determines
 based on number of retries if the mail is ready for processing.
 If no message is ready the method will block until one is, the amount of time to block is
 determined by calling the filters getWaitTime method.

 <p>Synchronized to ensure thread safe access to the underlying spool.</p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html#accept(org.apache.james.services.SpoolRepository.AcceptFilter)">accept</A></CODE> in interface <CODE><A HREF="../../../../org/apache/james/services/SpoolRepository.html" title="interface in org.apache.james.services">SpoolRepository</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the mail
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AvalonSpoolRepository.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/james/mailrepository/AvalonMailStore.html" title="class in org.apache.james.mailrepository"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/apache/james/mailrepository/JDBCMailRepository.html" title="class in org.apache.james.mailrepository"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/james/mailrepository/AvalonSpoolRepository.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AvalonSpoolRepository.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_org.apache.james.mailrepository.AbstractMailRepository">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2002-2009 <a href="http://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
