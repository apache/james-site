<?xml version="1.0"  encoding="UTF-8"?><pmd-cpd>
<duplication lines="30" tokens="106">
<file line="139" path="/opt/development/sieve-workspace/jsieve/src/main/java/org/apache/jsieve/ComparatorManager.java"/>
<file line="139" path="/opt/development/sieve-workspace/jsieve/src/main/java/org/apache/jsieve/TestManager.java"/>
<codefragment>
<![CDATA[
            return (ExecutableTest) lookup(name).newInstance();
        } catch (InstantiationException e) {
            throw new LookupException(e.getMessage());
        } catch (IllegalAccessException e) {
            throw new LookupException(e.getMessage());
        }
    }

    /**
     * <p>
     * Method getClassName answers the name of the class to which a Test name is
     * mapped.
     * </p>
     * 
     * @param name -
     *                The name of the Test
     * @return String - The name of the class
     * @throws LookupException
     */
    protected String getClassName(String name) throws LookupException {
        String className;
        try {
            className = (String) getClassNameMap().get(name.toLowerCase());
        } catch (SieveConfigurationException e) {
            throw new LookupException(
                    "Lookup failed due to a Configuration Exception: "
                            + e.getMessage());
        }
        if (null == className)
            throw new LookupException("Test named '" + name + "' not mapped.");
]]>
</codefragment>
</duplication>
</pmd-cpd>